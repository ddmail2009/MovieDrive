<link rel="import" href="/components/polymer/polymer.html">

<dom-module id="movie-card">

  <link rel="stylesheet" href="/css/card.css">
  <template>
    <!-- bind to the "owner" property -->
    <div class="movie-card-root">
      <a href='{{link}}' class="movie-item">
        <div class="poster-root">
          <img src="{{poster}}" onerror="this.src='/poster.jpg'" alt="poster" class="movie-poster img-responsive">
          <div class="overlay">
            <i class="fa fa-play"></i>
          </div>
        </div>
        <div class="movie-data">
          <div class="movie-title">{{title}}</div>
          <div class="movie-meta">{{meta}}</div>
          <star-rating rate="{{ComputeRate(score)}}"></star-rating>
          <content></content>
        </div>
      </a>
    </div>
  </template>

  <script>
    Polymer({
      is: "movie-card",
      properties: {
        link: {
          type: String,
          value: "#"
        },
        poster: {
          type: String,
          value: "poster.jpg"
        },
        title: {
          type: String,
          value: " "
        },
        score: {
          type: String,
          value: "0"
        },
        meta: {
          type: String,
          value: " "
        }
      },
      ComputeRate: function(rate){
        return parseInt(parseFloat(rate)+0.5)/2.0;
      }
    });
  </script> 
</dom-module>